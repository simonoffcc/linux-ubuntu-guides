## –ß—Ç–æ –∏–∑ —Å–µ–±—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ª–∞–±–∞?

–û —Ç–æ–º, —á—Ç–æ –∏–∑ —Å–µ–±—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ª–∞–±–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ –Ω–µ–π —Å–∞–º–æ–π. –ó–¥–µ—Å—å –ø—Ä–æ—Å—Ç–æ —è —É—Ç–æ—á–Ω—é –ø–∞—Ä—É –º–æ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–Ω–æ —Ç–∞–º –Ω–µ –æ–ø–∏—Å–∞–Ω—ã: –º–æ–º–µ–Ω—Ç—ã –≤ –∫–æ—Ç–æ—Ä—ã—Ö —è —Å–∞–º –∑–∞—Ç—É–ø–∏–ª –∏ –¥–æ–ª–≥–æ –¥—É–º–∞–ª –æ —Ç–æ–º, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å.

### **–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è**

- –°–æ–∑–¥–∞—Ç—å –≥–¥–µ —É–≥–æ–¥–Ω–æ –ø–∞–ø–∫—É, –≥–¥–µ –≤—ã –±—É–¥–µ—Ç–µ —Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã (–∏—Å—Ö–æ–¥–Ω—ã–µ –∫–æ–¥—ã –º–æ–¥—É–ª–µ–π, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ —è–∑—ã–∫–µ C). –Ø –Ω–∞–ø—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–ª –ø–∞–ø–∫—É –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º **lab7**.
- –í —ç—Ç–æ–π –ø–∞–ø–∫–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–æ—á–µ—Ä—ë–¥–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å (–µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–µ–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç—å –ª–∞–±—É) –∏–ª–∏ –∂–µ —Å—Ä–∞–∑—É —Å–æ–∑–¥–∞—Ç—å 7 —Ñ–∞–π–ª–æ–≤-–ø—Ä–∏–º–µ—Ä–æ–≤ —Å –∫–æ–¥–æ–º –º–æ–¥—É–ª–µ–π (–≤–µ—Å—å –∫–æ–¥ –µ—Å—Ç—å –≤ –ª–∞–±–µ, –Ω–æ –∏ —Ç—É—Ç —è –µ–≥–æ —á–∞—Å—Ç–∏—á–Ω–æ —Ç–æ–∂–µ –ø—Ä–æ–¥—É–±–ª–∏—Ä–æ–≤–∞–ª, –æ–¥–Ω–∞–∫–æ **—Ä–µ–∫–æ–º–µ–Ω–¥—É—é** –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –∫–æ–¥ –∏–∑ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç—É—Ç –º–æ–≥—É—Ç –±—ã—Ç—å –æ–ø–µ—á–∞—Ç–∫–∏)
    
    <aside>
    üí° `MODULE_LICENSE("GPL");` - –≤–∞–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ª—é–±–æ–≥–æ –º–æ–¥—É–ª—è. –ò–Ω–∞—á–µ –±—É–¥—É—Ç –æ—à–∏–±–∫–∏
    
    </aside>
    
- –í —ç—Ç–æ–π –∂–µ –ø–∞–ø–∫–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å **Makefile** (–µ–≥–æ –ø–æ–ª–Ω—ã–π –∫–æ–¥ –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏), –≤ –∫–æ—Ç–æ—Ä–æ–º, –≥—Ä—É–±–æ –≥–æ–≤–æ—Ä—è, —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∏–Ω—Ñ–∞ –æ —Å–±–æ—Ä–∫–µ

### –ü—Ä–∏–º–µ—Ä 1, 2 (–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Å–±–æ—Ä–∫–∏, —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –¥–µ–∏–Ω—Å—Ç–∞–ª—è—Ü–∏–∏ –º–æ–¥—É–ª–µ–π)

---

`make -C /usr/src/linux-6.2.1 M=$PWD modules` - **—Å–±–æ—Ä–∫–∞ –º–æ–¥—É–ª—è**

<aside>
üí° –ó–¥–µ—Å—å, –∫–æ–Ω–µ—á–Ω–æ –∂–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–º–µ–Ω—è—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ <linux-6.2.1> –Ω–∞ —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –≤–∞—à–µ–≥–æ —è–¥—Ä–∞. –≠—Ç–æ –∫–æ–º–∞–Ω–¥–∞ —á–∏—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ **Makefile**, –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –º–æ–¥—É–ª–∏. –ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –≤ —Ç–æ–π –∂–µ —Å–∞–º–æ–π –ø–∞–ø–∫–µ **lab7** —Å–æ–∑–¥–∞—é—Ç—Å—è —Ñ–∞–π–ª—ã —Å —Ç–µ–º–∏ –∂–µ —Å–∞–º—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Å–æ—Ö—Ä–∞–Ω—è–ª–∏ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.c`, –Ω–æ —Ç–æ–ª—å–∫–æ —Å –¥—Ä—É–≥–∏–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏.

</aside>

---

<aside>
üí° –ú—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–æ–¥—É–ª—å –∫–æ–º–∞–Ω–¥–æ–π `insmod`. –í–∞–∂–Ω–æ, —á—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ–º –º—ã —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.ko`.

</aside>

`sudo insmod ./hello-1.ko` - **–∑–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è**

`sort /proc/modules` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è (`sort` –ø—Ä–æ—Å—Ç–æ –≤—ã–≤–æ–¥–∏—Ç –≤ –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `cat`)

`sudo rmmod hello-1` - **—É–¥–∞–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è** (–∑–¥–µ—Å—å –ø–∏—à–µ–º –ø—Ä–æ—Å—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞, –±–µ–∑ –≤—Å—è–∫–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π)

`cat /var/log/kern.log` - **–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—ã–≤–æ–¥ –º–æ–¥—É–ª—è —è–¥—Ä–∞** (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ - ‚Äú<1>Hello world 1‚Äù –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –≤—ã–≥—Ä—É–∑–∫–µ - ‚ÄúGoodbye world 1‚Äù)

> –ü–æ–º–µ–Ω—è–≤ –∫–æ–¥ —Ñ–∞–π–ª–∞ *hello-1.c* —Å—Ç—Ä–æ—á–∫—É `return 0` –Ω–∞ `return 1` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —è–¥—Ä–∞, –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥—É–ª—è –≤ –ª–æ–≥-—Ñ–∞–π–ª–µ –≤—ã–≤–æ–¥–∏—Ç—å—Å—è —Å—Ç—Ä–æ—á–∫–∞ `</TASK>`
> 

### –ü—Ä–∏–º–µ—Ä 3, 4

`sudo insmod ./hello-1.ko`

`sudo insmod ./hello-2.ko`

### –ü—Ä–∏–º–µ—Ä 5

```c
#include <linux/module.h>
#include <linux/kernel.h>
#include <linux/init.h>

MODULE_LICENSE("GPL");

static int hello3_data __initdata = 3;
static int __init hello_3_init(void)
{
	printk(KERN_ALERT "Hello, world %d\n", hello3_data);
	return 0;
}
static void __exit hello_3_exit(void)
{
	printk(KERN_ALERT "Goodbye, world 3\n");
}

module_init(hello_3_init);
module_exit(hello_3_exit);
```

`sudo insmod ./hello-3.ko`

### –ü—Ä–∏–º–µ—Ä 6

```c
#include <linux/module.h>
#include <linux/kernel.h>
#include <linux/init.h>

#define DRIVER_AUTHOR "Peter Jay Salzman <p@dirac.org>"
#define DRIVER_DESC "A sample driver"

static int __init init_hello_4(void)
{
	printk(KERN_ALERT "Hello, world 4\n");
	return 0;
}

static void __exit cleanup_hello_4(void)
{
	printk(KERN_ALERT "Goodbye, world 44);
module_exit(cleanup_hello_4);
/*
* –í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –º–∞–∫—Ä–æ—Å—ã —Å—Ç—Ä–æ–∫–∏, –∫–∞–∫ —ç—Ç–æ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ:
*/
/*
* –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –≤—ã–≤–æ–¥ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ "–∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–∏" —è–¥—Ä–∞, –æ–±—ä—è–≤–∏–≤ –∫–æ–¥ –ø–æ–¥ GPL.
*/
MODULE_LICENSE("GPL");
/*
* –∏–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:
*/
MODULE_AUTHOR(DRIVER_AUTHOR); /* –ê–≤—Ç–æ—Ä –º–æ–¥—É–ª—è */
MODULE_DESCRIPTION(DRIVER_DESC); /* –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è */
/*
* –≠—Ç–æ—Ç –º–æ–¥—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ /dev/testdevice. –í –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö —è–¥—Ä–∞
* –º–∞–∫—Ä–æ—Å MODULE_SUPPORTED_DEVICE –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω
* –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª—è, –Ω–æ –ø–æ–∫–∞
* –æ–Ω —Å–ª—É–∂–∏—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.
*/
//MODULE_SUPPORTED_DEVICE("testdevice"); - –æ—à–∏–±–∫–∞
```

- **–û–®–ò–ë–ö–ê**
    
    /home/simon/lab7/hello-4.c:38:25: error: expected declaration specifiers or ‚Äò...‚Äô before string constant
    
    38 | MODULE_SUPPORTED_DEVICE("testdevice");
    
    ![–û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ](https://github.com/simonoffcc/linux-ubuntu-guides/raw/main/images/code_error.png)
    
- **–†–ï–®–ï–ù–ò–ï**
    
    –ü—Ä–æ—Å—Ç–æ –∫–æ–º–º–µ–Ω—Ç–∏–º —Å—Ç—Ä–æ—á–∫—É `MODULE_SUPPORTED_DEVICE(‚Äùtestdevice‚Äù)`
    

### –ü—Ä–∏–º–µ—Ä 7

hello-5.c

```c
/*
* hello-5.c - –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–¥–∞—á–∏ –º–æ–¥—É–ª—é –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.
*/
#include <linux/module.h>
#include <linux/moduleparam.h>
#include <linux/kernel.h>
#include <linux/init.h>
#include <linux/stat.h>

MODULE_LICENSE("GPL");
MODULE_AUTHOR("Peter Jay Salzman");

static short int myshort = 1;
static int myint = 420;
static long int mylong = 9999;
static char *mystring = "blah";
/*
* module_param(foo, int, 0000)
* –ü–µ—Ä–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä -- –∏–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π,
* –í—Ç–æ—Ä–æ–π -- —Ç–∏–ø,
* –ü–æ—Å–ª–µ–¥–Ω–∏–π -- –±–∏—Ç—ã –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
* –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤—ã—Å—Ç–∞–≤–∏—Ç—å –≤ sysfs (–µ—Å–ª–∏ –Ω–µ–Ω—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ) –Ω–∞ –±–æ–ª–µ–µ –ø–æ–∑–¥–Ω–µ–π
—Å—Ç–∞–¥–∏–∏.
*/
module_param(myshort, short, S_IRUSR | S_IWUSR | S_IRGRP | S_IWGRP);
MODULE_PARM_DESC(myshort, "A short integer");
module_param(myint, int, S_IRUSR | S_IWUSR | S_IRGRP | S_IROTH);
MODULE_PARM_DESC(myint, "An integer");
module_param(mylong, long, S_IRUSR);
MODULE_PARM_DESC(mylong, "A long integer");
module_param(mystring, charp, 0000);
MODULE_PARM_DESC(mystring, "A character string");
static int __init hello_5_init(void)
{
	printk(KERN_ALERT "Hello, world 5\n=============\n");
	printk(KERN_ALERT "myshort is a short integer: %hd\n", myshort);
	printk(KERN_ALERT "myint is an integer: %d\n", myint);
	printk(KERN_ALERT "mylong is a long integer: %ld\n", mylong);
	printk(KERN_ALERT "mystring is a string: %s\n", mystring);
	return 0;
}
static void __exit hello_5_exit(void)
{
	printk(KERN_ALERT "Goodbye, world 5\n");
}
module_init(hello_5_init);
module_exit(hello_5_exit);
```

`sudo insmod ./hello-5.ko mystring="bebop" myshort=255` - –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```nasm
Apr 13 11:13:01 simon-VirtualBox kernel: [  490.600299] Hello, world 5
Apr 13 11:13:01 simon-VirtualBox kernel: [  490.600299] =============
Apr 13 11:13:01 simon-VirtualBox kernel: [  490.600308] myshort is a short integer: 25
Apr 13 11:13:01 simon-VirtualBox kernel: [  490.600311] myint is an integer: 420
Apr 13 11:13:01 simon-VirtualBox kernel: [  490.600313] mylong is a long integer: 9999
Apr 13 11:13:01 simon-VirtualBox kernel: [  490.600314] mystring is a string: bebop
```

`sudo rmmod hello-5`

```nasm
Apr 13 11:14:12 simon-VirtualBox kernel: [  561.742233] Goodbye, world 5
```

`sudo insmod ./hello-5.ko mystring="supercalifragilisticexpialidocious" myint=100`

```nasm
Apr 13 11:15:26 simon-VirtualBox kernel: [  635.966278] Hello, world 5
Apr 13 11:15:26 simon-VirtualBox kernel: [  635.966278] =============
Apr 13 11:15:26 simon-VirtualBox kernel: [  635.966285] myshort is a short integer: 1
Apr 13 11:15:26 simon-VirtualBox kernel: [  635.966287] myint is an integer: 100
Apr 13 11:15:26 simon-VirtualBox kernel: [  635.966289] mylong is a long integer: 9999
Apr 13 11:15:26 simon-VirtualBox kernel: [  635.966290] mystring is a string: supercalifragilisticexpialidocious
```

`sudo rmmod hello-5`

```nasm
Apr 13 11:16:22 simon-VirtualBox kernel: [  692.014171] Goodbye, world 5
```

`sudo insmod ./hello-5.ko mylong=hello`

```nasm
insmod: ERROR: could not insert module ./hello-5.ko: Invalid parameters
```

```nasm
Apr 13 11:17:09 simon-VirtualBox kernel: [  739.029503] hello_5: `hello' invalid for parameter `mylong'
```

### –ü—Ä–∏–º–µ—Ä 8, 9

start.c stop.c ‚Üí startstop.ko

<aside>
üí° –¢—É—Ç –¥–≤–∞ —Ñ–∞–π–ª–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ –æ–¥–∏–Ω (–ø—Ä–∞–≤–∏–ª–æ –¥–ª—è —ç—Ç–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –≤ Makefile)

</aside>

---

### Makefile

```makefile
obj-m += hello-1.o
obj-m += hello-2.o
obj-m += hello-3.o
obj-m += hello-4.o
obj-m += hello-5.o
obj-m += startstop.o
startstop-objs := start.o stop.o
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π (‚Üí —Å–º–æ—Ç—Ä–∏–º log)

`sudo insmod ./hello-1.ko`

`sudo insmod ./hello-2.ko`

`sudo insmod ./hello-3.ko`

`sudo insmod ./hello-4.ko`

`sudo insmod ./hello-5.ko` –∏–ª–∏ `sudo insmod ./hello-5.ko mystring="bebop" myshort=255`

`sudo insmod ./startstop.ko`

### –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π (‚Üí —Å–º–æ—Ç—Ä–∏–º log)

`sudo rmmod hello-1`

`sudo rmmod hello-2`

`sudo rmmod hello-3`

`sudo rmmod hello-4`

`sudo rmmod hello-5`

`sudo rmmod startstop`

---

### –ö–∞–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ª–æ–≥-—Ñ–∞–π–ª –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏?

<aside>
üí° –≠—Ç–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —É –≤–∞—Å —Å–ø—Ä–æ—Å—è—Ç, –∏ –≤–æ—Ç —Ä–µ—à–µ–Ω–∏–µ:

`tail -f /var/log/kern.log`

*(—É –º–µ–Ω—è —Å–ø—Ä–æ—Å–∏–ª–∏ —Ç–æ–ª—å–∫–æ —ç—Ç–æ)*

</aside>

<aside>
üí° –¢–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–µ–Ω –≤–æ–ø—Ä–æ—Å: **–ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è `modprobe` –æ—Ç `insmod` ?**

**–û—Ç–≤–µ—Ç:** `modprobe`, –∫–∞–∫ –∏ `insmod`, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥—É–ª—å –≤ —è–¥—Ä–æ. –û–Ω–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è —Ç–µ–º, —á—Ç–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å, —Å—Å—ã–ª–∞–µ—Ç—Å—è –ª–∏ –æ–Ω –Ω–∞ –ª—é–±—ã–µ —Å–∏–º–≤–æ–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ —è–¥—Ä–µ.

`insmod` - –µ–º—É –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –ø—É—Ç—å –∫ —ç—Ç–æ–º—É —Å–∞–º–æ–º—É –º–æ–¥—É–ª—é

`modprobe` - —ç—Ç–æ —É–º–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä–∞—è –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ–∞–π–ª *modules.dep*, —á—Ç–æ–±—ã —Å–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –ø—Ä–µ–∂–¥–µ —á–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å.

</aside>

`sudo dmesg`
